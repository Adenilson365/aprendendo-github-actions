name: CI/CD Fake
on: 
    pull_request:  
jobs:
    CI:
        runs-on: ubuntu-latest
        permissions:
          pull-requests: write
          issues: write
        steps:
            - name: Checkout do c칩digo
              uses: actions/checkout@v4
            - name: Comentar PR
              uses: actions/github-script@v7
              with:
                  script: |
                    const { execSync } = require('child_process');
              
                    function runCommand(command) {
                      try {
                        return execSync(command, { encoding: 'utf-8' }).trim();
                      } catch {
                        return 'Nenhum dado encontrado';
                      }
                    }
              
                    const planResumo = "Resumo do plano";
                    const planDetails = runCommand('cat plan.txt | grep "Plan:"');
              
                    const destroyResources = runCommand('cat plan.txt | grep "will be destroyed"') || "Nenhum recurso ser치 destru칤do";
                    const modifyResources = runCommand('cat plan.txt | grep "will be changed"') || "Nenhum recurso ser치 alterado";
                    const createResources = runCommand('cat plan.txt | grep "will be created"') || "Nenhum recurso ser치 criado";
              
                    const commentBody = `游녦 Thanks for reporting!\n\n
                    **${planResumo}**\n
                    \`\`\`
                    ${planDetails}
                    \`\`\`\n
                    | Tipo de Recurso   | Detalhes |
                    |------------------|----------|
                    | **Destrui칞칚o**    | \`\`\`${destroyResources}\`\`\` |
                    | **Modifica칞칚o**   | \`\`\`${modifyResources}\`\`\` |
                    | **Cria칞칚o**       | \`\`\`${createResources}\`\`\` |
              
                    `;
              
                    github.rest.issues.createComment({
                      issue_number: context.issue.number,
                      owner: context.repo.owner,
                      repo: context.repo.repo,
                      body: commentBody
                    });
             
              